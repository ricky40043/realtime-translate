# 即時翻譯字幕系統 - 快速啟動指南

## 🚀 系統啟動步驟

### 前置需求
- Docker 和 Docker Compose
- Node.js 18+ (用於前端開發)
- 現代瀏覽器 (Chrome, Firefox, Safari, Edge)

### 1. 啟動基礎服務
```bash
# 啟動資料庫和 Redis
docker-compose up -d db redis

# 等待服務啟動
sleep 10
```

### 2. 啟動後端服務
```bash
# 啟動後端 API 服務
docker-compose up -d backend

# 檢查後端健康狀態
curl http://localhost:8081/health
# 應該回傳: {"status":"healthy"}
```

### 3. 啟動前端服務
```bash
# 進入前端目錄
cd frontend

# 安裝依賴 (首次執行)
npm install

# 啟動開發服務器
npm run dev

# 前端會在 http://localhost:5173 啟動
```

### 4. 驗證所有服務
```bash
# 檢查 Docker 服務狀態
docker-compose ps

# 檢查前端服務
curl -I http://localhost:5173

# 檢查後端 API
curl http://localhost:8081/health
```

## 📱 系統使用指南

### 初次使用流程

#### 步驟 1: 進入系統
1. 開啟瀏覽器
2. 訪問 http://localhost:5173
3. 系統會自動：
   - 建立匿名用戶帳號
   - 建立新的聊天房間
   - 建立 WebSocket 連線

#### 步驟 2: 測試文字翻譯
1. 在底部輸入框輸入文字，例如：
   - `你好，這是測試訊息！`
   - `Hello, this is a test message!`
   - `こんにちは、テストメッセージです！`

2. 按 **Enter** 或點擊 **發送** 按鈕

3. 觀察結果：
   - **頂部大字區域**：顯示翻譯成你偏好語言的字幕
   - **下方訊息流**：顯示翻譯成主板語言的訊息卡片

#### 步驟 3: 測試語音輸入
1. 點擊 **語音輸入** 按鈕
2. 允許瀏覽器使用麥克風權限
3. 開始說話（可以看到音量指示器）
4. 再次點擊停止錄音
5. 系統會自動：
   - 將語音轉換為文字
   - 填入輸入框
   - 自動翻譯和顯示

#### 步驟 4: 測試多人協作
1. 點擊 **分享房間** 按鈕
2. 複製房間連結
3. 在新的瀏覽器視窗開啟連結（或分享給其他人）
4. 在不同視窗發送訊息
5. 觀察即時同步效果

#### 步驟 5: 調整設定
1. 點擊 **設定** 按鈕
2. 可以調整：
   - **個人偏好語言**：影響你看到的字幕語言
   - **主板預設語言**：影響主板顯示的語言
   - **講者語言覆寫**：為特定講者設定專屬語言

## 🎯 功能測試清單

### ✅ 基礎功能測試

#### 文字翻譯測試
- [ ] 輸入中文，觀察英文翻譯
- [ ] 輸入英文，觀察中文翻譯
- [ ] 輸入日文，觀察各語言翻譯
- [ ] 測試常見詞彙：`你好`、`謝謝`、`再見`

#### 語音功能測試
- [ ] 點擊語音按鈕，檢查麥克風權限
- [ ] 錄製短語音（3-5秒）
- [ ] 錄製長語音（10-15秒）
- [ ] 觀察音量指示器是否正常
- [ ] 確認轉錄文字準確性

#### 介面功能測試
- [ ] 個人字幕區顯示正常
- [ ] 主板訊息流更新正常
- [ ] 連線狀態指示器正常
- [ ] 響應式設計在不同螢幕尺寸正常

### ✅ 進階功能測試

#### 多人協作測試
- [ ] 開啟多個瀏覽器視窗
- [ ] 設定不同的偏好語言
- [ ] 測試訊息即時同步
- [ ] 驗證不同用戶看到不同翻譯

#### 設定功能測試
- [ ] 更改個人偏好語言
- [ ] 更改主板預設語言
- [ ] 設定講者語言覆寫
- [ ] 驗證設定變更即時生效

#### 系統穩定性測試
- [ ] 快速連續發送多條訊息
- [ ] 長時間保持連線
- [ ] 網路中斷後自動重連
- [ ] 重新整理頁面後狀態恢復

## 🎮 實際使用場景

### 場景 1: 多語言會議
1. 主持人建立房間並分享連結
2. 參與者設定各自的偏好語言
3. 主持人設定主板語言為英文
4. 參與者可用母語發言，系統自動翻譯

### 場景 2: 語言學習
1. 學習者輸入英文句子
2. 系統顯示中文翻譯
3. 使用語音功能練習發音
4. 觀察語音識別準確度

### 場景 3: 國際客服
1. 客服設定主板語言為公司標準語言
2. 客戶用母語輸入問題
3. 系統自動翻譯顯示給客服
4. 客服回覆也會翻譯給客戶

## 🔧 故障排除

### 常見問題解決

#### 1. 前端無法訪問 (http://localhost:5173)
```bash
# 檢查前端服務狀態
cd frontend
npm run dev

# 如果報錯，重新安裝依賴
rm -rf node_modules package-lock.json
npm install
npm run dev
```

#### 2. 後端 API 無法訪問 (http://localhost:8081)
```bash
# 檢查後端容器狀態
docker-compose ps

# 重啟後端服務
docker-compose restart backend

# 查看後端日誌
docker-compose logs backend
```

#### 3. 資料庫連線問題
```bash
# 檢查資料庫服務
docker-compose ps db

# 重啟資料庫
docker-compose restart db

# 檢查資料庫連線
docker-compose exec db psql -U user -d rt -c "SELECT version();"
```

#### 4. WebSocket 連線失敗
- 檢查瀏覽器控制台錯誤訊息
- 確認後端服務正常運行
- 重新整理頁面重新建立連線

#### 5. 麥克風無法使用
- 檢查瀏覽器麥克風權限設定
- 確認使用 HTTPS 或 localhost (HTTP)
- 嘗試不同瀏覽器

### 系統重置
```bash
# 完全重置系統
docker-compose down
docker-compose up -d db redis
sleep 10
docker-compose up -d backend
cd frontend && npm run dev
```

## 📊 效能指標

### 正常運行指標
- **API 回應時間**：< 200ms
- **WebSocket 延遲**：< 100ms
- **翻譯處理時間**：< 1000ms (模擬模式)
- **語音轉文字時間**：< 2000ms (模擬模式)

### 資源使用
- **記憶體使用**：< 512MB (整個系統)
- **CPU 使用**：< 20% (正常負載)
- **網路頻寬**：< 10KB/s (每個連線)

## 🎉 開始測試吧！

現在你已經有了完整的啟動和使用指南，可以開始測試這個強大的即時翻譯字幕系統了！

**立即開始**：
1. 執行啟動步驟中的命令
2. 開啟 http://localhost:5173
3. 按照使用指南進行測試

**有問題嗎？** 
- 檢查故障排除章節
- 查看瀏覽器控制台錯誤訊息
- 檢查 Docker 容器狀態

祝你測試愉快！🚀